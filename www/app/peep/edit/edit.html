
<ion-toolbar primary>
    <ion-nav-items primary>
        <button (click)="done()">
            <icon arrow-back></icon>
            Back
        </button>
    </ion-nav-items>
    <ion-title>
        Edit Peep
    </ion-title>
</ion-toolbar>

<ion-content>
    <form #f="form" (ng-submit)="editContact(f)" novalidate>

        <ion-list >
            <!--<img src="app/assets/images/no_image.jpg" (click)="getImage()" class="add-avatar" *ng-if="!peep._attachments" id="avatar">-->
            <img [src]="'data:'+peep._attachments.avatar.content_type+';base64,'+peep._attachments.avatar.data"  (click)="getImage()" *ng-if="peep._attachments" class="edit-avatar">
            <input type="file" ng-control="file" [(ng-model)]="file" id="file" hidden>
            <ion-input floating-label>
                <ion-label>First Name</ion-label>
                <input type="text" ng-control="fn" [(ng-model)]="peep.fn" value="{{peep.fn}}" required>
            </ion-input>

            <ion-input floating-label>
                <ion-label>Last Name</ion-label>
                <input type="text" ng-control="ln" [(ng-model)]="peep.ln" value="{{peep.ln}}" required>
            </ion-input>

            <ion-input floating-label>
                <ion-label>Email</ion-label>
                <input type="email" ng-control="email" [(ng-model)]="peep.email" value="{{peep.email}}">
            </ion-input>

            <ion-input floating-label>
                <ion-label>Office</ion-label>
                <input type="number" ng-control="office" [(ng-model)]="peep.office" value="{{peep.office}}">
            </ion-input>

            <ion-input floating-label>
                <ion-label>Cell</ion-label>
                <input type="number" ng-control="cell" [(ng-model)]="peep.cell" value="{{peep.cell}}">
            </ion-input>
        </ion-list>
        <button primary block type="submit" [disabled]="!f.valid">Update</button>
    </form>

</ion-content>